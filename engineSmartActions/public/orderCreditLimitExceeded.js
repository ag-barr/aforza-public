function runAction(e){try{const{record:t,related:i}=e.data,[a]=i.Account,r=a.AvailableCredit__c,d=t.TotalAmount;if(t.RecordTypeId==="0122z000001cDV0AAM"){if(r==null)throw new Error("No credit limit available");if(d==null)throw new Error("No order total available");if(d>r)throw new Error(`Credit Limit Exceeded - Current credit: ${r} and Order Total is ${d}`);e.data.message=`Order total ${d} is within credit limit of ${r}`}}catch(t){e.data.error=t==null?void 0:t.message}return e.data.updateDeviceData=!0,e.data.updateDeviceData.Order=!0,e.data.updateDeviceData.OrderItem=!0,e.data.reprice=!0,e}
