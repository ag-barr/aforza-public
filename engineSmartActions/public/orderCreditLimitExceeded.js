function runAction(t){try{const{record:e,related:a}=t.data,[n]=a.Account,r=n.AvailableCredit__c,i=e.TotalAmount;if(console.log(JSON.stringify(a)),r==null)throw new Error("No credit limit available");if(i==null)throw new Error("No order total available");if(i>r)throw new Error(`Credit Limit Exceeded - Current credit: ${r} and Order Total is ${i}`);t.data.message=`Order total ${i} is within credit limit of ${r}`+console.log(JSON.stringify(a))}catch(e){t.data.error=e==null?void 0:e.message}return t.data.updateDeviceData=!0,t.data.updateDeviceData.Order=!0,t.data.updateDeviceData.OrderItem=!0,t.data.reprice=!0,t}
